<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>التاريخ الهجري والميلادي</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Amiri', serif;
            background-color: #f8f5f0;
            color: #2c3e50;
            line-height: 1.6;
            padding: 20px;
            background-image: linear-gradient(135deg, #f8f5f0 0%, #e8f4f8 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 30px;
            border-bottom: 3px solid #2c5f2d;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        header h1 {
            color: #2c5f2d;
            font-size: 2.8rem;
            margin-bottom: 10px;
            font-family: 'Scheherazade New', serif;
        }
        
        header p {
            font-size: 1.2rem;
            color: #555;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .date-display {
            background-color: #fff;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .hijri-date, .gregorian-date {
            text-align: center;
            padding: 20px;
            flex: 1;
            min-width: 300px;
        }
        
        .hijri-date {
            border-left: 2px solid #2c5f2d;
        }
        
        .date-title {
            color: #2c5f2d;
            font-size: 1.8rem;
            margin-bottom: 15px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .date-value {
            font-size: 2.5rem;
            color: #2c3e50;
            font-weight: bold;
            margin-bottom: 10px;
            font-family: 'Scheherazade New', serif;
        }
        
        .date-details {
            color: #555;
            font-size: 1.1rem;
            margin-top: 10px;
        }
        
        .prayer-times {
            background-color: #fff;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 40px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            text-align: center;
        }
        
        .prayer-times h2 {
            color: #2c5f2d;
            font-size: 1.8rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .prayer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .prayer-item {
            background-color: #f0f7f0;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border-right: 5px solid #2c5f2d;
        }
        
        .prayer-name {
            font-weight: bold;
            color: #2c5f2d;
            font-size: 1.2rem;
        }
        
        .prayer-time {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2c3e50;
            margin-top: 5px;
        }
        
        .resources {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .resource-card {
            background-color: #fff;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s, box-shadow 0.3s;
            border-top: 5px solid #2c5f2d;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .resource-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 25px rgba(0, 0, 0, 0.1);
        }
        
        .resource-icon {
            font-size: 2.5rem;
            color: #2c5f2d;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .resource-title {
            color: #2c5f2d;
            font-size: 1.5rem;
            margin-bottom: 15px;
            text-align: center;
            font-weight: bold;
        }
        
        .resource-desc {
            color: #555;
            font-size: 1.1rem;
            margin-bottom: 20px;
            flex-grow: 1;
        }
        
        .resource-btn {
            display: block;
            text-align: center;
            background-color: #2c5f2d;
            color: white;
            padding: 12px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 1.1rem;
            font-weight: bold;
            transition: background-color 0.3s;
            margin-top: auto;
        }
        
        .resource-btn:hover {
            background-color: #1e441f;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            font-size: 1.2rem;
            color: #2c5f2d;
        }
        
        .location-info {
            text-align: center;
            color: #777;
            margin-top: 10px;
            font-size: 1rem;
        }
        
        footer {
            text-align: center;
            padding: 25px;
            margin-top: 40px;
            color: #777;
            border-top: 1px solid #ddd;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .date-display {
                flex-direction: column;
            }
            
            .hijri-date {
                border-left: none;
                border-bottom: 2px solid #2c5f2d;
                margin-bottom: 20px;
            }
            
            header h1 {
                font-size: 2rem;
            }
            
            .date-value {
                font-size: 2rem;
            }
            
            .resources {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>
    <a href="https://hikmavideohub-bot.github.io/hijri-date/" 
       style="text-decoration: none; color: inherit;">
        <i class="fas fa-calendar-alt"></i> التاريخ الهجري والميلادي
    </a>
</h1>

            <p></p>
        </header>
        
        <div class="date-display">
            <div class="hijri-date">
                <h2 class="date-title"><i class="fas fa-moon"></i> التاريخ الهجري</h2>
                <div class="date-value" id="hijri-date">جاري التحميل...</div>
                <div class="date-details" id="hijri-details"></div>
            </div>
            
            <div class="gregorian-date">
                <h2 class="date-title"><i class="fas fa-sun"></i> التاريخ الميلادي</h2>
                <div class="date-value" id="gregorian-date">جاري التحميل...</div>
                <div class="date-details" id="gregorian-details"></div>
            </div>
        </div>
        
        <div class="prayer-times">
            <h2><i class="fas fa-clock"></i> مواقيت الصلاة اليوم في مكة المكرمة</h2>
            <div class="location-info">(بناءً على موقع مكة المكرمة)</div>
            <div class="loading" id="prayer-loading">جاري تحميل مواقيت الصلاة...</div>
            <div class="prayer-grid" id="prayer-grid" style="display: none;">
                <!-- سيتم ملؤها بواسطة JavaScript -->
            </div>
        </div>
        
        <div class="resources">
            <div class="resource-card">
                <div class="resource-icon">
                    <i class="fas fa-quran"></i>
                </div>
                <h3 class="resource-title">القرآن الكريم</h3>
                <p class="resource-desc">الاستماع إلى القرآن الكريم بصوت أي قارئ من اختيارك مع تفسير الآيات وتلاوات متعددة.</p>
                <a href="https://hikmavideohub-bot.github.io/Quraan/" target="_blank" class="resource-btn">الذهاب إلى الموقع</a>
            </div>
            
            <div class="resource-card">
                <div class="resource-icon">
                    <i class="fas fa-kaaba"></i>
                </div>
                <h3 class="resource-title">بث مباشر الحرم المكي</h3>
                <p class="resource-desc">مشاهدة البث المباشر للحرم المكي والمسجد النبوي وأداء الصلوات مع المصلين.</p>
                <a href="https://youtu.be/7-Qf3g-0xEI" target="_blank" class="resource-btn">مشاهدة البث المباشر</a>
            </div>
            
            <div class="resource-card">
                <div class="resource-icon">
                    <i class="fas fa-tv"></i>
                </div>
                <h3 class="resource-title">بث مباشر قناة السنة</h3>
                <p class="resource-desc">مشاهدة بث مباشر لقناة السنة النبوية مع برامج دينية وفتاوى وشروحات للحديث.</p>
                <a href="https://live.tvquran.net/saudi_sunnah" target="_blank" class="resource-btn">مشاهدة القناة</a>
            </div>
            
            <div class="resource-card">
                <div class="resource-icon">
                    <i class="fas fa-pray"></i>
                </div>
                <h3 class="resource-title">أذكار الصباح والمساء</h3>
                <p class="resource-desc">أذكار الصباح والمساء مع الترجمة والتفسير، بالإضافة إلى أدعية منوعة لكل المناسبات.</p>
                <a href="https://islamicfinder.org/duas" target="_blank" class="resource-btn">تصفح الأذكار</a>
            </div>
            
            <div class="resource-card">
                <div class="resource-icon">
                    <i class="fas fa-book-open"></i>
                </div>
                <h3 class="resource-title">صحيح البخاري ومسلم</h3>
                <p class="resource-desc">قراءة صحيح البخاري وصحيح مسلم كاملين مع شرح الأحاديث وتخريجها وبيان درجتها.</p>
                <a href="https://sunnah.com" target="_blank" class="resource-btn">قراءة الأحاديث</a>
            </div>
            
            <div class="resource-card">
                <div class="resource-icon">
                    <i class="fas fa-calendar-alt"></i>
                </div>
                <h3 class="resource-title">التقويم الهجري</h3>
                <p class="resource-desc">تقويم أم القرى الرسمي مع تواريخ الأحداث الإسلامية والأعياد ومواسم العبادات.</p>
                <a href="https://umalqura-calendar.com" target="_blank" class="resource-btn">عرض التقويم</a>
            </div>
            
            <div class="resource-card">
                <div class="resource-icon">
                    <i class="fas fa-globe-asia"></i>
                </div>
                <h3 class="resource-title">مواقيت الصلاة العالمية</h3>
                <p class="resource-desc">معرفة مواقيت الصلاة في أي مدينة حول العالم مع اتجاه القبلة والأذان والتقويم الإسلامي.</p>
                <a href="https://islamicfinder.org/world" target="_blank" class="resource-btn">معرفة المواقيت</a>
            </div>
        </div>
        
        <footer>
            <p>جميع الحقوق محفوظة © 2023 | هذه الصفحة تعرض التاريخ الهجري والميلادي والموارد الإسلامية</p>
            <p>يتم تحديث التاريخ ومواقيت الصلاة تلقائياً من خلال API: https://api.aladhan.com</p>
        </footer>
    </div>

    <script>
        // مصفوفة أسماء الشهور العربية الميلادية
        const gregorianMonthsArabic = [
            "يناير", "فبراير", "مارس", "أبريل", "مايو", "يونيو",
            "يوليو", "أغسطس", "سبتمبر", "أكتوبر", "نوفمبر", "ديسمبر"
        ];
        
        // مصفوفة أيام الأسبوع العربية
        const weekdaysArabic = [
            "الأحد", "الاثنين", "الثلاثاء", "الأربعاء", 
            "الخميس", "الجمعة", "السبت"
        ];
        
        // دالة لتحميل بيانات التاريخ ومواقيت الصلاة
        async function loadIslamicData() {
            try {
                const response = await fetch('https://api.aladhan.com/v1/timingsByAddress?address=Mecca');
                const data = await response.json();
                
                if (data.code === 200) {
                    // عرض التاريخ الهجري
                    const hijri = data.data.date.hijri;
                    document.getElementById('hijri-date').textContent = `${hijri.day} ${hijri.month.ar} ${hijri.year} هـ`;
                    document.getElementById('hijri-details').innerHTML = `
                        <strong>اليوم:</strong> ${hijri.weekday.ar} | 
                        <strong>الشهر:</strong> ${hijri.month.ar} | 
                        <strong>السنة:</strong> ${hijri.year}
                    `;
                    
                    // عرض التاريخ الميلادي - التصحيح هنا
                    const gregorian = data.data.date.gregorian;
                    
                    // استخدام البيانات مباشرة من API
                    const gregorianDay = gregorian.day;
                    const gregorianMonthNum = parseInt(gregorian.month.number);
                    const gregorianMonthName = gregorianMonthsArabic[gregorianMonthNum - 1] || gregorian.month.en;
                    const gregorianYear = gregorian.year;
                    
                    // حساب يوم الأسبوع
                    const dateObj = new Date(`${gregorianMonthNum}/${gregorianDay}/${gregorianYear}`);
                    const weekdayNum = dateObj.getDay(); // 0 للأحد، 1 للاثنين...
                    const weekdayName = weekdaysArabic[weekdayNum];
                    
                    document.getElementById('gregorian-date').textContent = `${gregorianDay} ${gregorianMonthName} ${gregorianYear} م`;
                    document.getElementById('gregorian-details').innerHTML = `
                        <strong>اليوم:</strong> ${weekdayName} | 
                        <strong>الشهر:</strong> ${gregorianMonthName} | 
                        <strong>السنة:</strong> ${gregorianYear}
                    `;
                    
                    // عرض مواقيت الصلاة
                    const timings = data.data.timings;
                    const prayerGrid = document.getElementById('prayer-grid');
                    const prayerLoading = document.getElementById('prayer-loading');
                    
                    // إخفاء رسالة التحميل
                    prayerLoading.style.display = 'none';
                    prayerGrid.style.display = 'grid';
                    
                    // تنظيف المحتوى القديم
                    prayerGrid.innerHTML = '';
                    
                    // قائمة مواقيت الصلاة المراد عرضها
                    const prayersToShow = [
                        { name: 'الفجر', key: 'Fajr', icon: 'fas fa-sun' },
                        { name: 'الشروق', key: 'Sunrise', icon: 'fas fa-sunrise' },
                        { name: 'الظهر', key: 'Dhuhr', icon: 'fas fa-sun' },
                        { name: 'العصر', key: 'Asr', icon: 'fas fa-sun' },
                        { name: 'المغرب', key: 'Maghrib', icon: 'fas fa-sunset' },
                        { name: 'العشاء', key: 'Isha', icon: 'fas fa-moon' }
                    ];
                    
                    // إضافة مواقيت الصلاة إلى الشبكة
                    prayersToShow.forEach(prayer => {
                        const prayerItem = document.createElement('div');
                        prayerItem.className = 'prayer-item';
                        
                        // تنسيق الوقت
                        let prayerTime = timings[prayer.key];
                        if (prayerTime && prayerTime.length >= 5) {
                            prayerTime = prayerTime.substring(0, 5);
                        }
                        
                        prayerItem.innerHTML = `
                            <div class="prayer-icon"><i class="${prayer.icon}"></i></div>
                            <div class="prayer-name">${prayer.name}</div>
                            <div class="prayer-time">${prayerTime || 'غير متاح'}</div>
                        `;
                        
                        prayerGrid.appendChild(prayerItem);
                    });
                } else {
                    throw new Error('فشل في تحميل البيانات');
                }
            } catch (error) {
                console.error('Error fetching data:', error);
                
                // عرض تواريخ افتراضية في حالة فشل التحميل
                const today = new Date();
                const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                
                // التاريخ الميلادي الافتراضي
                const gregorianDay = today.getDate();
                const gregorianMonthNum = today.getMonth(); // 0-11
                const gregorianMonthName = gregorianMonthsArabic[gregorianMonthNum];
                const gregorianYear = today.getFullYear();
                const weekdayName = weekdaysArabic[today.getDay()];
                
                document.getElementById('gregorian-date').textContent = `${gregorianDay} ${gregorianMonthName} ${gregorianYear} م`;
                document.getElementById('gregorian-details').innerHTML = `
                    <strong>اليوم:</strong> ${weekdayName} | 
                    <strong>الشهر:</strong> ${gregorianMonthName} | 
                    <strong>السنة:</strong> ${gregorianYear}
                `;
                
                // التاريخ الهجري التقريبي الافتراضي
                const hijriYear = Math.round((today.getFullYear() - 622) * (33/32));
                const hijriMonth = today.getMonth() + 1;
                const hijriDay = today.getDate();
                const hijriMonths = ["محرم", "صفر", "ربيع الأول", "ربيع الثاني", "جمادى الأولى", "جمادى الآخرة", "رجب", "شعبان", "رمضان", "شوال", "ذو القعدة", "ذو الحجة"];
                const hijriMonthName = hijriMonths[hijriMonth - 1] || "غير معروف";
                const hijriWeekdays = ["الأحد", "الاثنين", "الثلاثاء", "الأربعاء", "الخميس", "الجمعة", "السبت"];
                const hijriWeekdayName = hijriWeekdays[today.getDay()];
                
                document.getElementById('hijri-date').textContent = `${hijriDay} ${hijriMonthName} ${hijriYear} هـ`;
                document.getElementById('hijri-details').innerHTML = `
                    <strong>اليوم:</strong> ${hijriWeekdayName} | 
                    <strong>الشهر:</strong> ${hijriMonthName} | 
                    <strong>السنة:</strong> ${hijriYear}
                `;
                
                // عرض رسالة خطأ لمواقيت الصلاة
                document.getElementById('prayer-loading').innerHTML = `
                    <p>تعذر تحميل مواقيت الصلاة. يرجى المحاولة مرة أخرى لاحقاً.</p>
                    <p>يمكنك زيارة <a href="https://islamicfinder.org/world" target="_blank">هذا الرابط</a> لمعرفة مواقيت الصلاة.</p>
                `;
            }
        }
        
        // تحميل البيانات عند فتح الصفحة
        document.addEventListener('DOMContentLoaded', loadIslamicData);
        
        // تحديث البيانات كل ساعة
        setInterval(loadIslamicData, 60 * 60 * 1000);
    </script>
</body>
</html>
